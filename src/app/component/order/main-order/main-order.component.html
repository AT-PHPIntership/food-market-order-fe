<div class="main" role="main">
  <div class="main_header">
    <div class="shop logo logo--left">
      <h1 class="shop__name">
        <a href="/">
          {{ 'app-name' | translate }}
        </a>
      </h1>
    </div>
  </div>
  <div class="main_content stateful-form">
    <form [formGroup]="orderForm">
    <div class="row">
      <div class="col-md-6 col-lg-6">
        <div class="section" formGroupName="personal">
          <div class="section__header">
            <div class="layout-flex layout-flex--wrap">
              <h2 class="section__title layout-flex__item layout-flex__item--stretch">
                <i class="fa fa-id-card-o fa-lg section__title--icon hidden-md hidden-lg" aria-hidden="true"></i>
                <label class="control-label">{{ 'info_order' | translate }}</label>
              </h2>

            </div>
          </div>
          <div class="section__content">
            <div class="form-group" [ngClass]="{'has-error':!orderForm.controls['personal'].get('email').valid && orderForm.controls['personal'].get('email').touched}">
              <div>
                <label class="field__input-wrapper" [ngClass]="{'js-is-focused':orderForm.controls['personal'].get('email').value !== ''}">
                  <span class="field__label">
                      {{ 'email' | translate }}
                  </span>
                  <input [appFocusClass]="'js-is-focused'"
                         type="email"
                         formControlName="email"
                         class="field__input form-control"
                         id="email"
                         autofocus
                         required=""
                         pattern="^([a-zA-Z0-9_\-\.\+]+)@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.)|(([a-zA-Z0-9\-]+\.)+))([a-zA-Z]{2,4}|[0-9]{1,3})(\]?)$">
                </label>
                </div>
              <div class="help-block with-errors">
                <div *ngIf="orderForm.controls['personal'].get('email').hasError('required') && orderForm.controls['personal'].get('email').touched" class="alert alert-danger">{{ 'required' | translate }} {{ 'email' | translate }}.</div>
                <div *ngIf="!orderForm.controls['personal'].get('email').hasError('required') && orderForm.controls['personal'].get('email').hasError('email') && orderForm.controls['personal'].get('email').touched" class="alert alert-danger">{{ 'required' | translate }} {{ 'format' | translate}} {{ 'email' | translate }}.</div>
              </div>
            </div>
            <div class="billing">
              <div>
                <div class="form-group" [ngClass]="{'has-error':!orderForm.controls['personal'].get('name').valid && orderForm.controls['personal'].get('name').touched}">
                  <div class="field__input-wrapper" [ngClass]="{'js-is-focused':orderForm.controls['personal'].get('name').value !== ''}">
                    <span class="field__label">
                        {{ 'name' | translate }}
                    </span>
                    <input [appFocusClass]="'js-is-focused'" formControlName="name" type="text"  class="field__input form-control" id="_billing_address_last_name" data-error="Vui lòng nhập họ tên" required="">
                   </div>
                  <div class="help-block with-errors">
                    <div *ngIf="orderForm.controls['personal'].get('name').hasError('required') && orderForm.controls['personal'].get('name').touched" class="alert alert-danger">{{ 'required' | translate }} {{ 'email' | translate }}.</div>
                  </div>
                </div>

                <div class="form-group" [ngClass]="{'has-error':!orderForm.controls['personal'].get('phone').valid && orderForm.controls['personal'].get('phone').touched}">
                  <div class="field__input-wrapper" [ngClass]="{'js-is-focused':orderForm.controls['personal'].get('phone').value !== ''}">
                      <span class="field__label">
                          {{ 'phone' | translate }}
                      </span>
                    <input [appFocusClass]="'js-is-focused'"
                           formControlName="phone"
                           type="tel"
                           minlength="10"
                           maxlength="12"
                           class="field__input form-control"
                           id="_billing_address_phone">
                  </div>
                  <div class="help-block with-errors">
                    <div *ngIf="orderForm.controls['personal'].get('phone').hasError('required') && orderForm.controls['personal'].get('phone').touched" class="alert alert-danger"> {{ 'required' | translate }}  {{ 'phone' | translate }}.</div>
                    <div *ngIf="orderForm.controls['personal'].get('phone').hasError('pattern') && orderForm.controls['personal'].get('phone').touched" class="alert alert-danger"> {{ 'required' | translate }}  {{ 'format' | translate }}  {{ 'phone' | translate }}.</div>
                  </div>
                </div>
                <div class="form-group" [ngClass]="{'has-error':!orderForm.controls['personal'].get('address').valid && orderForm.controls['personal'].get('address').touched}">
                  <div class="field__input-wrapper" [ngClass]="{'js-is-focused':orderForm.controls['personal'].get('address').value !== ''}">
                    <span class="field__label">
                        {{ 'address' | translate }}
                    </span>
                    <input [appFocusClass]="'js-is-focused'" formControlName="address" type="text" class="field__input form-control" id="_billing_address_address1">
                  </div>
                  <div class="help-block with-errors">
                    <div *ngIf="orderForm.controls['personal'].get('address').hasError('required') && orderForm.controls['personal'].get('address').touched" class="alert alert-danger">{{ 'required' | translate }} {{ 'address' | translate }}.</div>
                  </div>
                </div>
                <div class="form-group" [ngClass]="{'has-error':!orderForm.controls['personal'].get('trans_at').valid && orderForm.controls['personal'].get('trans_at').touched}">
                  <div class="field__input-wrapper" [ngClass]="{'js-is-focused':orderForm.controls['personal'].get('address').value !== ''}">
                    <span class="field__label">
                        {{ 'ship_time' | translate }}
                    </span>
                    <input [appFocusClass]="'js-is-focused'" formControlName="trans_at" type="time" class="field__input form-control">
                  </div>
                  <div class="help-block with-errors">
                    <div *ngIf="orderForm.controls['personal'].get('trans_at').hasError('required') && orderForm.controls['personal'].get('trans_at').touched" class="alert alert-danger">{{ 'required' | translate }} {{ 'ship_time' | translate }}.</div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="section pt10">
          <div class="section__content">
            <div class="form-group">
              <div class="checkbox-wrapper">
                <div class="checkbox__input">
                  <input class="input-checkbox" [ngModelOptions]="{standalone: true}" [(ngModel)]="ortherShip" type="checkbox" value="false" name="otherAddress" id="other_address">
                </div>
                <label class="checkbox__label" for="other_address">
                  {{ 'ship_another_address' | translate }}
                </label>
              </div>
            </div>
          </div>
        </div>
        <div class="section pt10" formGroupName="shipAddress" *ngIf="ortherShip">
          <div class="section__header">
            <h2 class="section__title">
              <i class="fa fa-id-card-o fa-lg section__title--icon hidden-md hidden-lg" aria-hidden="true"></i>
              <label class="control-label">
                {{ 'info_ship' | translate }}
              </label>
            </h2>
          </div>
          <div class="section__content">
            <div class="shipping">
              <div>
                <div class="form-group" [ngClass]="{'has-error':!orderForm.controls['shipAddress'].get('address').valid && orderForm.controls['shipAddress'].get('address').touched}">
                  <div class="field__input-wrapper">
                    <span class="field__label">
                         {{ 'address' | translate }}
                    </span>
                    <input [appFocusClass]="'js-is-focused'" formControlName="address" type="text" class="field__input form-control" id="_shipping_address_address1" >
                  </div>
                  <div class="help-block with-errors">
                    <div *ngIf="orderForm.controls['shipAddress'].get('address').hasError('required') && orderForm.controls['shipAddress'].get('address').touched" class="alert alert-danger"> {{ 'required' | translate }}  {{ 'address' | translate }}.</div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="col-md-6 col-lg-6">
        <div class="section payment-methods">
          <div class="section__header">
            <h2 class="section__title">
              <i class="fa fa-credit-card fa-lg section__title--icon hidden-md hidden-lg" aria-hidden="true"></i>
              <label class="control-label">{{ 'payment' | translate }}</label>
            </h2>
          </div>
          <div class="section__content">
            <div class="content-box">
              <div class="content-box__row">
                <div class="radio-wrapper">
                  <div class="radio__input">
                    <input class="input-radio" checked="checked" type="radio" value="40746" name="PaymentMethodId" data-check-id="4" checked="">
                  </div>
                  <label class="radio__label">
                    <span class="radio__label__primary">{{ 'payment_when_ship' | translate }}</span>
                    <span class="radio__label__accessory">
                    <ul>
                      <li class="payment-icon-v2 payment-icon--4">
                        <i class="fa fa-money payment-icon-fa" aria-hidden="true"></i>
                      </li>
                    </ul>
                </span>
                  </label>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    </form>
  </div>
</div>